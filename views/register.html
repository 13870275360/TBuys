<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>注册</title>
    <link rel="stylesheet" href="//cdn.bootcss.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css">
    <script src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js"></script>
    <script src="//cdn.bootcss.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js"></script>
</head>
<body>
<input type="button" onclick="register()" value="注 册">
<script>
    function register() {
        //通过serialize()方法进行序列化表单值，创建文本字符串。
        var data = $("form").serialize();
        //例如："username=张三&password=12345"
        $.ajax({
            url: '/register',
            type: 'POST',
            data: data,
            success: function (data, status) {
                if (status == 'success') {
                    location.href = 'register';
                }
            },
            error: function (res, err) {
                location.href = 'register';
            }
        });
    }

    function login() {
        var data = $("form").serialize();
        $ajax({
            url: '/login',
            type: 'POST',
            data: data,
            success: function (data, status) {
                if (status == 'success') {
                    location.href = 'home';
                }
            },
            error: function (data, status) {
                if (status == 'error') {
                    location.href = 'login';
                }
            }
        })
    }
</script>
</body>
</html>